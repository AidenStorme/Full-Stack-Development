@model Travel9.ViewModels.TravelVM

<h2>Travel</h2>

<form asp-action="Index" method="post">

    <div class="form-group">
        <label asp-for="DepartureCode"></label>
        <select asp-for="DepartureCode" class="form-control" asp-items="Model.CountryList">
            <option disabled selected value="">Select a Country</option>
        </select>
        <span asp-validation-for="DepartureCode" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="ArrivalCode"></label>
        <select asp-for="ArrivalCode" class="form-control" asp-items="Model.CountryList">
            <option disabled selected value="">Select a Country</option>
        </select>
        <span asp-validation-for="ArrivalCode" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="StartDate"></label>
        <input asp-for="StartDate" type="date" class="form-control"/>
        <span asp-validation-for="StartDate" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="EndDate"></label>
        <input asp-for="EndDate" type="date" class="form-control"/>
        <span asp-validation-for="EndDate" class="text-danger"></span>
    </div>

    <div class="form-group">
        <!-- Visible Create button for final submission -->
        <input type="submit" value="Create" class="btn btn-primary" />
    </div>

    <span>I travel so many days.</span>
    <input type="text" id="DateResult" />
</form>

@section Scripts {
    @{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }

    <script>
        window.addEventListener('load', () => {
            console.log('start');

            $("#EndDate").on('focusout', () => { // => Document.getElementByid(EndDate).addEventListener('focusout', () => {})
                if($('#StartDate').val() == "")
                alert("don't forget begindate");
                else{
                    let days = (new Date($('#EndDate').val())
                    - new Date($('#StartDate').val()))
                    / (1000 * 60 * 60 * 24);
                    $("#DateResult").val(days);
                }
            })

        /*
           ---Arrow-functie----
            (a) => { a + 100;}

            ---Selector ----
           document.getElementById("idName")  => $("#idName") -> voor een id
           document.getElementById("className"); => $(".className") -> voor een klasse

           ---- Value ----
            document.getElementById("idName").value
            => $("#idName").val()

           --- EventListener-------
           document.getElementById('').addEventListener('event', () => {})
           => $("#").on ('event',() => {} )

           --- Load ----
            window.addEventListener("load",()=>{some code;});
            => $()
            => $((  ) => {some code});

            */
        })
    </script>
}